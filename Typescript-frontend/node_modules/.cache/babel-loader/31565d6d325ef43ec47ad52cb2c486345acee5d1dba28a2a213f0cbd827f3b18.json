{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nexport function useLocalStorage(key, initialValue) {\n  _s();\n  const [storage, setStorage] = useState(() => {\n    const storedValue = localStorage.getItem(key);\n    return storedValue !== null ? JSON.parse(storedValue) : initialValue;\n  });\n  useEffect(() => {\n    function handleChange(event) {\n      if (event.storageArea === localStorage && event.key === key && event.newValue !== null) {\n        setStorage(JSON.parse(event.newValue));\n      }\n    }\n    window.addEventListener('storage', handleChange);\n    return () => {\n      window.removeEventListener('storage', handleChange);\n    };\n  }, [key]);\n  return storage;\n}\n_s(useLocalStorage, \"KgBXGl00Q+sHGihddKFS0IJm460=\");","map":{"version":3,"names":["useEffect","useState","useLocalStorage","key","initialValue","_s","storage","setStorage","storedValue","localStorage","getItem","JSON","parse","handleChange","event","storageArea","newValue","window","addEventListener","removeEventListener"],"sources":["/Users/klarabryntesson/Documents/Fullstack/React/Typescript-Klara-portfolio/src/useLocalStorage.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nexport function useLocalStorage<T>(key: string, initialValue: T): T {\n  const [storage, setStorage] = useState<T>(() => {\n    const storedValue = localStorage.getItem(key);\n    return storedValue !== null ? JSON.parse(storedValue) : initialValue;\n  });\n\n  useEffect(() => {\n    function handleChange(event: StorageEvent) {\n      if (\n        event.storageArea === localStorage &&\n        event.key === key &&\n        event.newValue !== null\n      ) {\n        setStorage(JSON.parse(event.newValue));\n      }\n    }\n\n    window.addEventListener('storage', handleChange);\n\n    return () => {\n      window.removeEventListener('storage', handleChange);\n    };\n  }, [key]);\n\n  return storage;\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAO,SAASC,eAAeA,CAAIC,GAAW,EAAEC,YAAe,EAAK;EAAAC,EAAA;EAClE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAI,MAAM;IAC9C,MAAMO,WAAW,GAAGC,YAAY,CAACC,OAAO,CAACP,GAAG,CAAC;IAC7C,OAAOK,WAAW,KAAK,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,WAAW,CAAC,GAAGJ,YAAY;EACtE,CAAC,CAAC;EAEFJ,SAAS,CAAC,MAAM;IACd,SAASa,YAAYA,CAACC,KAAmB,EAAE;MACzC,IACEA,KAAK,CAACC,WAAW,KAAKN,YAAY,IAClCK,KAAK,CAACX,GAAG,KAAKA,GAAG,IACjBW,KAAK,CAACE,QAAQ,KAAK,IAAI,EACvB;QACAT,UAAU,CAACI,IAAI,CAACC,KAAK,CAACE,KAAK,CAACE,QAAQ,CAAC,CAAC;MACxC;IACF;IAEAC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEL,YAAY,CAAC;IAEhD,OAAO,MAAM;MACXI,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEN,YAAY,CAAC;IACrD,CAAC;EACH,CAAC,EAAE,CAACV,GAAG,CAAC,CAAC;EAET,OAAOG,OAAO;AAChB;AAACD,EAAA,CAzBeH,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}